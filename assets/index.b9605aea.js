import{o as r,c as I,a as v,w as h,f as m,q as b,T as w,t as E,k as o,s as Z,u as e,y as V,z as j,A as O,d as S,p as C,E as x,e as tt,B as et,C as ot,r as z,n as st,D as H,F as A,G as R,H as q}from"./vendor.5224670c.js";import{_ as T}from"./index.7a8a16ba.js";import{a as F}from"./alertTools.b45561d7.js";const nt={name:"component-dialog",props:{isShow:{type:[Boolean],default:!1},appendToBody:{type:[Boolean],default:!1}},emits:["close"]},it={key:0,class:"input"},lt={class:"foot"};function at(t,s,n,i,l,d){return r(),I(Z,{to:"body",disabled:!n.appendToBody},[v(w,{mode:"out-in",name:"opacity-fade"},{default:h(()=>[n.isShow?(r(),m("div",{key:0,class:"mask",onClick:s[0]||(s[0]=a=>t.$emit("close",!1))})):b("",!0)]),_:1}),v(w,{mode:"out-in",name:"slide-fade"},{default:h(()=>[n.isShow?(r(),m("div",it,[E(t.$slots,"default",{},void 0,!0),o("div",lt,[E(t.$slots,"foot",{},void 0,!0)])])):b("",!0)]),_:3})],8,["disabled"])}var dt=T(nt,[["render",at],["__scopeId","data-v-e216f918"]]);const B=t=>(V("data-v-a97496c0"),t=t(),j(),t),ct={class:"todolist__tabbar"},ut=B(()=>o("div",{class:"icon"},[o("i",{class:"el-icon-document"})],-1)),rt=B(()=>o("div",{class:"title"},"\u7B14\u8BB0",-1)),_t=[ut,rt],mt=B(()=>o("div",{class:"icon"},[o("i",{class:"el-icon-circle-check"})],-1)),pt=B(()=>o("div",{class:"title"},"\u5F85\u529E",-1)),vt=[mt,pt],ft={setup(t){const{alert:s}=F();return(n,i)=>(r(),m("div",ct,[o("div",{class:"item btn-pointer",onClick:i[0]||(i[0]=(...l)=>e(s)&&e(s)(...l))},_t),o("div",{class:"item btn-pointer active",onClick:i[1]||(i[1]=(...l)=>e(s)&&e(s)(...l))},vt),E(n.$slots,"default",{},void 0,!0)]))}};var ht=T(ft,[["__scopeId","data-v-a97496c0"]]);const M=t=>(V("data-v-0bacf1aa"),t=t(),j(),t),gt={class:"cell"},yt={key:0,class:"iconfont radio done","aria-hidden":"true"},$t=M(()=>o("use",{"xlink:href":"#icon-ok-circle-fill"},null,-1)),bt=[$t],wt={key:1,class:"iconfont radio work","aria-hidden":"true"},kt=M(()=>o("use",{"xlink:href":"#icon-radio"},null,-1)),Ct=[kt],St={class:"text"},xt={name:"todocell"},Tt=Object.assign(xt,{props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},from:{type:String,default:""},to:{type:String,default:""}},emits:["switchStatus","goDetail"],setup(t,{emit:s}){const n=(l,d,a)=>{s("switchStatus",{from:l,to:d,index:a})},i=(l,d)=>{s("goDetail",{from:l,index:d})};return(l,d)=>(r(),m("div",gt,[o("div",{class:"icon btn-pointer",onClick:d[0]||(d[0]=a=>n(t.from,t.to,t.index))},[t.item.is_done?(r(),m("svg",yt,bt)):(r(),m("svg",wt,Ct))]),o("div",{class:"btn-pointer value normal",onClick:d[1]||(d[1]=a=>i(t.from,t.index))},[o("div",St,O(t.item.value),1)])]))}});var U=T(Tt,[["__scopeId","data-v-0bacf1aa"]]);function Bt(){function t(s){return s==="lists_todo"?"lists_done":"lists_todo"}return{getAnti:t}}function Dt(t){const s=S({add:!1,menu:!1}),n=S({todo:!0,done:!0}),i=C(()=>({animate__rubberBand:!!s.value.add})),l=C(()=>window.innerWidth<500);return{switcher:s,show:n,addAnimateComputed:i,dialogComputed:l,toggleSwitcher:u=>{s.value[u]=!s.value[u]},fold:u=>{n.value[u]=!n.value[u]},toggleCell:({from:u,to:p,index:g})=>{t.dispatch("todo/setLists",{from:u,to:p,index:g}).then(y=>{x.success(y.msg)})}}}function It(t){const s=C(()=>t.state.todo.lists),n=S(0),i=C(()=>{const{lists_todo:a,lists_done:f}=s.value;return[...a,...f].length});tt(()=>{l()});const l=()=>{document.querySelector(".home").addEventListener("scroll",f=>{d(f)})},d=a=>{const u=a.target.scrollTop/200;n.value=u,n.value>1?n.value=1:n.value<0&&(n.value=0)};return{lists:s,opacity:n,totalComputed:i}}function Et(t,s,n){const i=S({todo:""}),l=C(()=>!i.value.todo.length);return{input:i,btnComputed:l,save:()=>{const a={value:i.value.todo,is_done:!1};t.dispatch("todo/addTodo",a).then(f=>{i.value.todo="",n("add"),s.success(f.msg)})}}}function Vt(t,s,n,i,l,d){return{goEdit:({from:u,index:p})=>{const{value:g,is_done:y}=n.value[u][p];t.dispatch("todo/setTodo",{value:g,is_done:y,from:u,to:d(u),index:p}).then($=>{s.push({name:"Edit"})})},reset:()=>{t.dispatch("todo/resetTodo").then(u=>{localStorage.clear(),i("menu"),l.info(u.msg),s.go(0)})}}}const D=t=>(V("data-v-688c6f70"),t=t(),j(),t),jt={class:"menu"},zt={style:{position:"relative"}},Ht={class:"cell"},At={class:"router-view"},Gt={class:"home custom-scrollbar"},Lt={class:"title"},Nt=q(" \u5168\u90E8\u5F85\u529E "),Ot=D(()=>o("i",{class:"el-icon-caret-bottom"},null,-1)),Rt=[Nt,Ot],qt={class:"bottom"},Ft={class:"main-data"},Mt={key:0,class:"category"},Ut=D(()=>o("div",{class:"title__value"},"\u672A\u5B8C\u6210",-1)),Wt={key:0,class:"content"},Jt={key:0,class:"category"},Kt=D(()=>o("div",{class:"title__value"},"\u5DF2\u5B8C\u6210",-1)),Pt={key:0,class:"content"},Qt=D(()=>o("div",null,null,-1)),Xt=q("\u4FDD\u5B58"),Yt={name:"Home"},Zt=Object.assign(Yt,{setup(t){const s=et(),n=ot(),{alert:i}=F(),{getAnti:l}=Bt(),{switcher:d,show:a,addAnimateComputed:f,dialogComputed:u,toggleSwitcher:p,fold:g,toggleCell:y}=Dt(s),{lists:$,opacity:W,totalComputed:J}=It(s,p,x),{input:G,btnComputed:K,save:P}=Et(s,x,p),{goEdit:L,reset:N}=Vt(s,n,$,p,x,l);return(te,c)=>{const Q=z("my-dropdown"),X=z("el-input"),Y=z("el-button");return r(),m(A,null,[o("div",jt,[o("div",{class:"title",style:st({opacity:e(W)})},"\u5168\u90E8\u5F85\u529E",4),o("div",zt,[o("i",{class:"el-icon-more btn-pointer",onClick:c[0]||(c[0]=_=>e(p)("menu"))}),v(Q,{"append-to":"#container",dropdown_show:e(d).menu,top:"40px",right:"20px",onClose:c[2]||(c[2]=_=>e(p)("menu"))},{default:h(()=>[o("div",Ht,[o("div",{class:"text",onClick:c[1]||(c[1]=(..._)=>e(N)&&e(N)(..._))},"\u6570\u636E\u91CD\u7F6E")])]),_:1},8,["dropdown_show"])])]),o("div",At,[o("div",Gt,[o("div",Lt,[o("div",{class:"up btn-pointer",onClick:c[3]||(c[3]=(..._)=>e(i)&&e(i)(..._))},Rt),o("div",qt,O(e(J))+"\u6761\u5F85\u529E",1)]),o("div",Ft,[v(w,{mode:"out-in",name:"opacity-fade"},{default:h(()=>[Boolean(e($).lists_todo.length)?(r(),m("div",Mt,[o("div",{class:"title btn-pointer",onClick:c[4]||(c[4]=_=>e(g)("todo"))},[Ut,o("i",{class:H(["el-icon-arrow-up animate__base",{animate__180:!e(a).todo}])},null,2)]),v(w,{mode:"out-in",name:"content-fold"},{default:h(()=>[e(a).todo?(r(),m("div",Wt,[(r(!0),m(A,null,R(e($).lists_todo,(_,k)=>(r(),I(U,{key:k,item:_,index:k,from:"lists_todo",to:"lists_done",onSwitchStatus:e(y),onGoDetail:e(L)},null,8,["item","index","onSwitchStatus","onGoDetail"]))),128))])):b("",!0)]),_:1})])):b("",!0)]),_:1}),v(w,{mode:"out-in",name:"opacity-fade"},{default:h(()=>[Boolean(e($).lists_done.length)?(r(),m("div",Jt,[o("div",{class:"title",onClick:c[5]||(c[5]=_=>e(g)("done"))},[Kt,o("i",{class:H(["el-icon-arrow-up animate__base",{animate__180:!e(a).done}])},null,2)]),v(w,{mode:"out-in",name:"content-fold"},{default:h(()=>[e(a).done?(r(),m("div",Pt,[(r(!0),m(A,null,R(e($).lists_done,(_,k)=>(r(),I(U,{key:k,item:_,index:k,from:"lists_done",to:"lists_todo",onSwitchStatus:e(y),onGoDetail:e(L)},null,8,["item","index","onSwitchStatus","onGoDetail"]))),128))])):b("",!0)]),_:1})])):b("",!0)]),_:1})]),o("div",{class:H(["add-todo btn-pointer animate__animated",e(f)]),onClick:c[6]||(c[6]=_=>e(p)("add"))},null,2)])]),v(dt,{isShow:e(d).add,onClose:c[8]||(c[8]=_=>e(p)("add")),"append-to-body":e(u)},{foot:h(()=>[Qt,v(Y,{disabled:e(K),class:"btn",type:"primary",size:"mini",onClick:e(P)},{default:h(()=>[Xt]),_:1},8,["disabled","onClick"])]),default:h(()=>[v(X,{class:"custom",modelValue:e(G).todo,"onUpdate:modelValue":c[7]||(c[7]=_=>e(G).todo=_),type:"textarea",resize:"none",autofocus:"",placeholder:"\u5F85\u529E\u4E8B\u9879",autosize:{minRows:1,maxRows:4}},null,8,["modelValue"])]),_:1},8,["isShow","append-to-body"]),v(ht,{class:"tabBar"})],64)}}});var ne=T(Zt,[["__scopeId","data-v-688c6f70"]]);export{ne as default};
